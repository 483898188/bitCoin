1. 启动本地私链(regtest)

   ```shell
   hxl@hxl:~/bitcoin$ cd ~/bitcoin/build/bin
   ./bitcoind -regtest -daemon
   
   # -regtest 本地私有链
   # -daemon 后台运行
   ```

   返回结果
   
   ```shell
   Bitcoin Core starting
   ```



2. 创建钱包

   ```shell
   ./bitcoin-cli -regtest createwallet test
   
   # test钱包名称
   ```

   返回结果

   ```shell
   {
     "name": "test"
   }
   
   ```



3. 生成测试币

   ```shell
   ADDR=$(./bitcoin-cli -regtest getnewaddress)
   ./bitcoin-cli -regtest generatetoaddress 101 $ADDR
   
   # ./bitcoin-cli -regtest getnewaddress 获取一个新地址
   # 生成101个区块，前100个coinbase是锁定的，第101个可以花
   
   ```

   返回结果

   ```shell
   [
     "362e06f06a35a82b93cfc6299fab600785b7331443c8cdaf7f036854a61e32c2",
     "46f6b4638a39ce91ca3254f93e8cbab16c0b0de385213861dfafde72a69c4939",
     "28d5828bc06e49242df010cb29def8fd73acd929f9359e5913df8bdd670fb906",
     "219b3db760b4bf459c76ce3bf785d345e74507927cedc3bbc9cab88848a8c37f",
     "778b2a4733289ecebac00b8c16d11edaf04622401655bd22c66b443bca5d4044",
     "20fbc55e388f3377f331613b738b799774c4c835ad9645e666f9db67b27f0d8a",
     "6cfda834d6f4ef58e8c0b360b918fbc399edf7c143cca5416e228925d833ab26",
     "3bddcdfb7d0c2cc310ddb6e75fba9c4e7f2866e08b5ce5c2d48d8563afc8a443",
     "681926402afb4cd229dd1558493efd6bc18b0cd4c742ef0968822ea5bcb5107c",
     "57d985fc566be22592de0588aac939c3b1521da3b0cb28ce27467ddb52ae8910",
     "49ace02bcf15502ef574199c18013fa94bd30822a30962a0724253a25e343eee",
     "5cbb7d2bdad1fdeea886982b812ec6561ae9facb41dac9e5f9440d27f4b2a8c5",
     "4b15157680a871d8456f85fd43bc6d3a7b63015f35c7aa64631b986546bda65d",
     "58ed036a75ea26b7010ca2b23c5465a4882624f840727c60e8b5c3eb8fc13f67",
     "54d801764e2341a05a90ac8e96fb201426bce187679e72ff2e1152ffa36dccb5",
     "6e7d46bd7871fe784d57aafeb15f0c7fbed0890d947cf178f6f817877e926a12",
     "36226eb987b3d120e4f6ae689596dd96bbe932bf83028fb38bb6eb26be79f7f0",
     "3fbd903ca2b2e6225796379f3eb87cf6e4dc95e1487d63d45992e85e2dc25041",
     "1c463be01f042618d381956c435eb5f04fd0ddf2406232e95514d34b3a156287",
     "7d936c00b14e0a5ba053591301b000721bdace2271d88d45690daa2fa69b7665",
     "5b470574455c6fbb8c7dfcae322ac85ff9e8d4b4039c4ca9872d4d672a32f8e5",
     "13276dc15aff4e1c43bdbf7f416441d92b6a192ac84bf4a329f927c5d93ad7e3",
     "657eccca3de81dc0043e8b3805a6c7f03e25231eb03387148b92904845e8fabd",
     "6673d596222abcc41ead2d42f604e63a07296a3c376ac60a8dddb0f293091f8a",
     "09e1a044e54f2748977748e436e95e25e9b109f35736a96b6394a446d3d69acd",
     "01f52e47b1ea0551f56aeb0f1bb7c51b951f718a9d4bc03bd22135e553528078",
     "19b1400bfe65013be0973d6a7e1288a0a83065aec5232db6f3db791f24e2d9c1",
     "440e20d6b7bf79ec606ef79c5c6ad8bc21b73f6fb1ddfab9febfc73a0a650c5e",
     "680195650183a16fe2d452a68347ebacf71284ec632b910cb824e894cf638be6",
     "52101ba16312a1dedf320493e5b53fe0dedfc606ede7e880eda6f4b82302b471",
     "6a6ab333bae00b3c5e4fe555296bfa372df3cb0983564c85c7eb88b7c3b53ff9",
     "25793cb8de2bc77364fd3232a10ed47633653d14c4ff52a1503b265722cf4798",
     "31d38e71644aa1f1e99ef528dd6ed05fa3f5b026f0fb810fc67a70baed5d8df6",
     "6530a444801763a4bd243d2327b16878ccaabb7730cb32f24144ff71085b6075",
     "73590144ecd88979d3fb5154f2d22a799a24e87053cded9127af962248bf388f",
     "334768069bdbd45434c2cf888ebaeeab7519b77b17c7d41c83a3d2f500dd0cdf",
     "09adf07a684fa8bd90c4e4d8a738a3659485748285e9366e57104f85f06d38a0",
     "20c8c32d9aee2e41f16cd5d74bae7900a087e1c95054cae68d3435c1bc61ba81",
     "1a643dc38eecd098f01ccb61dd71f63b2fee4cdb91b86360763c3df183e55581",
     "14d12cf2e8f6e75b41fced13255141f93e0cab44efe882025cb3a2b2613a1807",
     "392b02f0e0c90691b24201464acdeef0a510f68db9a41c3ea17b0e53ab2f3817",
     "6405f98b77ac5a9c857445a821abac7dd32372ef02ae788ebd1192ce16a50e37",
     "1024ceab5e7f4130d56c03873a265a35a7f0a8e09d1a549271bbfdfd358ed70f",
     "3afef9c048536a4ae04a94c84ffff5c705fe9ff0a5f753aabfe4f2a961fe8ee6",
     "523db5e5e19c0bb0700f90a67520adda017fbe0a026fb5fdcd170709cfaa6772",
     "27d4d3d5655a678de828e2495f322800fc08d258a6ed845f9e310dc5ce10aef3",
     "179788535cff7dc9b7f862378f9c2ebf2cd8ea95b878e5d3878db65577e99c73",
     "0d25e79f1c2534a9f3c8a8fcc515ad3cc14c9d9a705e57da8372e063dbdef541",
     "0e94e587c3df67e05165c2c31aea38dae708ae30392696c0f80a5b2f5dcb3377",
     "1287b05e3bd720e30c31789466732e461f3cad5aaacdaa56840f91a2921ed2f4",
     "22778cdbd79b57d975dfa91244cfcbf2c14997d736a0c13d86c992ab36752553",
     "13a367a17d5cd60131ff5d8b889b1303dfbcdd5ec862c6e1f919330922e63579",
     "588780052ed77fdc8f43534e65d81d7534662895adb2ff99a1fbc84163c21e57",
     "1b6a29cbfa94e54987c31d3439f1ef35e023a4172d4320c74ba99d653393e0e6",
     "412d2d9008366a15afb8b0b6f6e8ee3bdd712311a33dde6d64506c25dbba2bb9",
     "153c9385a61961a6692dc8e0006ad4808abc34e6d9f8a460a51106916c4fc29c",
     "20b5291d24362323a4cf6c3ffeed66354671c96e3e30e08c45607b674c6dab78",
     "32bd10636fd2e5a7273bc623892d475586f4db4f351fe54f7753c8bc0feb9a80",
     "31aa0966e530ceb5e341228b01d143207b8afc449276ef7897fbc75129aaaee6",
     "434cdcaf50ec02f721161414228f3166bba45b62e11837e4b7d21be30687c451",
     "52ff7dc771fe3a45d205483f808c208ccf234fb4f88e6ed74341870727c8deea",
     "5e3c1928a9e16681260b66c990a3c134a410a7fe8b2350cf5afbe4b04dac417d",
     "24f4a26c0f51ed6d789be72af284d653bc144b233e9acb3a78420a70350cc3c9",
     "3e4055b76856abce19aa41ff7525656d33786542160a7c99b481be03ebbb6391",
     "777e407cc8b507f8a4d3e1c3acd131a899108d6727d5dabe00c6cff1defd1286",
     "7749edb71368f838b1fe24e9bbd960c421535e9f09d5390ac82f1a6ab758d56c",
     "5a46c788418f2c12f71fb921c81f958dd8275458a457cb96334559d130ad0157",
     "2695a1745b69e75518a4b961655f1487442e769e2ee2061664ac90b596531120",
     "30f0f10b3244983fecbc8d58b94916eb4867fcaf7608a818ac13140cbd504096",
     "1cc676312aea889cac6e1c8d433041f4b3b1a0a2c9e77fbef5d4a76acd8ad259",
     "30e1e4ad71d63161e1023454e8ddb32a0ea78d641aa0f3ff33debb41b9e0e3a8",
     "0ab61abef1ff96c2d931c70c00008313557b6ffbe18545960db91a9609a29b99",
     "04fe2b9586d280206db68ba4bdb85dc73ddd9874954c2b689db528d3227c630f",
     "52e3bc32abc9fca2a1cf7cd0a28264ef745d1702cb4b24dded13300424cc88be",
     "7236ac085b2450b1b90f596647a137d0f87b9b8d8c80cb615a440ca6ea48b4eb",
     "08ec5ad86df68a4bd83c3746fc5941fee045c7cdaca2e142ca80acc5b43c2a8c",
     "61bdab8cf2a5174d6ded221dbe9e9769c8ac765fe8eea5471f8d02f5731148af",
     "4db8a84d1f7d9f44bf4b171a7afeec46fc9daf194fb82a98baccdb935b0ad125",
     "5d6d3d4683c940269eb14ef7c4666136a9031874a23ce21e688b8363da29b1ec",
     "281079d038cd47068c3fe2974eed266e1f29ef900b4cb919cee5a5069827298e",
     "0e81b277c35ff2efb1c89bcaacc232d6642254161a54b12d019b0f790752d6dd",
     "0d595f417b2cfdce04ddbd6314cf3fa1d7f20fdfc5b6fbcd4be68d27a8854b86",
     "29991f6fe1f11e5c347a38f992e5b997f92deff38d781f6daf80c7288b762585",
     "3f9fea95893d7862c4cfef77dbc894e574fd41ee6d7354bd94a4e88a8c53653a",
     "00a3a0dde75ab5a940f1a4d9a06b237800fd07b7ab48c8206502fb261ca2ca12",
     "1c1cdcc37e67ee84e38e0096c05cdf50338af5dba62891ad7612f688daccbd0d",
     "6e93c1355dce40e6a076190ef64eef945930da8f52c4c4fd074a1bae8bd42174",
     "774c4084daf36403de21e01b3956d591d617fc8293c3f8098b3040766c66dbd3",
     "57a95281935cb34d5c4468a2f41f51bf53601de3abb0eb8e2adb0afcccc0820f",
     "554a53accd2d7538959a8a9a53fff1f00c907874c2f8eaa3d8f8eb9f6b5f6d88",
     "215cbb73649c0ff0dbfe01a8578e7096ec4bcbc361e700c060826bd303e0d835",
     "73d0c517e7c65cba7970b2ad2b5ce4aec3b330684e5db3a85ae1d12236354b69",
     "188c9cdc3e78c015953076d269c9a5db124ba460425ffc47f936886cb324ba80",
     "3488efe75bd0df60cb27b8200dc20b7702ae4cfc887a0daa0feef55ae9cfeb7a",
     "4dd2d77410455ac004bf7a735093401bcadbb12de9bf11ce23ef932cb5fc4003",
     "278ee18a140db9d41c7b4d998c9860869e93d12c926a6b0725cb2f133f740d14",
     "3ceefd7913281b4d25708e15ad88d2e8a9fef0b8ea53fc4d6d07c06dc70d6713",
     "6c489f67ea97c8eb0dd833c60f6092ad5240553d6ea664a0e31e40f7b789fcf8",
     "42f54921914dd02abe94c54024392ba85e8dfb03c593290822a03e5ea82382a0",
     "4387203da7d4a9c0d69c1c04fc17cd1d25bff16e7c04f89b41ddba154b727784",
     "05bbbb01683983d1f3256aba1544f6e8d6ff1335a06ca936060212f87b9647c5"
   ]
   ```



4. 查询余额

   ```shell
   ./bitcoin-cli -regtest getbalance
   
   ```

   返回结果

   ```shell
   50.00000000
   ```

5. 发起交易

   ```shell
   ADDR=$(./bitcoin-cli -regtest getnewaddress)
   ./bitcoin-cli -regtest sendtoaddress $ADDR 10
   
   # 把10个测试币发送到另一个地址
   
   ```

   ```shell
   # 生成一个区块确认
   
   ./bitcoin-cli -regtest generatetoaddress 1 $(./bitcoin-cli -regtest getnewaddress)
   
   ```





6. 停止节点

   ```shell
   ./bitcoin-cli -regtest stop
   
   ```

   返回结果

   ```shell
   Bitcoin Core stopping
   ```

   